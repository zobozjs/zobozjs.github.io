"use strict";(self.webpackChunkzobozjs_website=self.webpackChunkzobozjs_website||[]).push([[8810],{1184:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(4041);const d={},r=i.createContext(d);function t(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),i.createElement(r.Provider,{value:n},e.children)}},4109:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"learn/missing-runtime-deps","title":"missing-runtime-deps","description":"Your package has runtime dependencies that are either missing from package.json or incorrectly listed under devDependencies.","source":"@site/docs/learn/missing-runtime-deps.md","sourceDirName":"learn","slug":"/learn/missing-runtime-deps","permalink":"/docs/learn/missing-runtime-deps","draft":false,"unlisted":false,"editUrl":"https://github.com/zobozjs/zoboz/tree/main/packages/zobozjs-website/docs/learn/missing-runtime-deps.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"missing-runtime-deps","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"avoid-pkg-type","permalink":"/docs/learn/avoid-pkg-type"},"next":{"title":"Why You Should Avoid the imports Field in package.json","permalink":"/docs/learn/avoid-pkg-imports"}}');var d=s(1085),r=s(1184);const t={title:"missing-runtime-deps",sidebar_position:2},o="Why Runtime Dependencies Belong in dependencies or peerDependencies",c={},l=[{value:"Why Is This a Problem?",id:"why-is-this-a-problem",level:2},{value:"Recommendations",id:"recommendations",level:2},{value:"When to Use <code>peerDependencies</code>",id:"when-to-use-peerdependencies",level:3},{value:"Important Note",id:"important-note",level:4},{value:"When to Use <code>dependencies</code>",id:"when-to-use-dependencies",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsxs)(n.h1,{id:"why-runtime-dependencies-belong-in-dependencies-or-peerdependencies",children:["Why Runtime Dependencies Belong in ",(0,d.jsx)(n.code,{children:"dependencies"})," or ",(0,d.jsx)(n.code,{children:"peerDependencies"})]})}),"\n",(0,d.jsxs)(n.p,{children:["Your package has runtime dependencies that are either missing from ",(0,d.jsx)(n.code,{children:"package.json"})," or incorrectly listed under ",(0,d.jsx)(n.code,{children:"devDependencies"}),"."]}),"\n",(0,d.jsx)(n.h2,{id:"why-is-this-a-problem",children:"Why Is This a Problem?"}),"\n",(0,d.jsxs)(n.p,{children:["Relying on hoisted modules or ",(0,d.jsx)(n.code,{children:"devDependencies"})," can lead to missing or incorrect versions when consumers install only the published build. Explicitly declaring runtime dependencies ensures all required packages are installed with correct versions."]}),"\n",(0,d.jsx)(n.h2,{id:"recommendations",children:"Recommendations"}),"\n",(0,d.jsxs)(n.p,{children:["List runtime dependencies under ",(0,d.jsx)(n.code,{children:"dependencies"})," or ",(0,d.jsx)(n.code,{children:"peerDependencies"})," based on usage."]}),"\n",(0,d.jsxs)(n.h3,{id:"when-to-use-peerdependencies",children:["When to Use ",(0,d.jsx)(n.code,{children:"peerDependencies"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Use ",(0,d.jsx)(n.code,{children:"peerDependencies"})," when your package expects consumers to provide the dependency themselves."]}),"\n",(0,d.jsx)(n.li,{children:"Ideal for plugins, frameworks, or shared libraries where multiple instances of the same package could cause issues."}),"\n",(0,d.jsx)(n.li,{children:"Prevents unnecessary duplication when multiple packages depend on the same dependency."}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"important-note",children:"Important Note"}),"\n",(0,d.jsxs)(n.p,{children:["Package managers do not install ",(0,d.jsx)(n.code,{children:"peerDependencies"})," by default. This can cause issues during development if the dependency is unavailable. To avoid this, duplicate the dependency in ",(0,d.jsx)(n.code,{children:"devDependencies"})," while still benefiting from the flexibility of ",(0,d.jsx)(n.code,{children:"peerDependencies"}),"."]}),"\n",(0,d.jsxs)(n.h3,{id:"when-to-use-dependencies",children:["When to Use ",(0,d.jsx)(n.code,{children:"dependencies"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["If your package directly requires a dependency at runtime, it ",(0,d.jsx)(n.strong,{children:"must"})," be listed in ",(0,d.jsx)(n.code,{children:"dependencies"}),"."]}),"\n",(0,d.jsx)(n.li,{children:"Ensures that consumers of your package receive all required modules automatically when installing your package."}),"\n",(0,d.jsxs)(n.li,{children:["If ",(0,d.jsx)(n.code,{children:"peerDependencies"})," does not apply and your package cannot function without the dependency, use ",(0,d.jsx)(n.code,{children:"dependencies"})," instead."]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"By correctly categorizing your dependencies, you ensure a more stable and predictable package installation experience for consumers."})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}}}]);